<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🧠 Dan-AI-Mate Intelligence Dashboard</title>
    <!-- 
    🚨 PLACEHOLDER DATA RULE: 
    - All data must reflect actual RepoClone project state
    - No generic/placeholder data allowed
    - If real data unavailable, show "No data available" with timestamp
    - All predictions must be based on actual project analysis
    - All violations must reference real files and issues
    -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background: #111;
            color: #fff;
            min-height: 100vh;
            margin: 0;
            padding: 0;
        }

        .global-status-bar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            background: #222;
            color: #fff;
            text-align: center;
            padding: 0.5em 0;
            z-index: 1000;
            font-weight: 600;
            display: none;
        }

        #logo-text {
            text-align: center;
            font-size: 2.7em;
            font-weight: 900;
            letter-spacing: 2px;
            margin-top: 2em;
            margin-bottom: 0.2em;
            line-height: 1;
            color: #fff;
        }

        #logo-tagline {
            text-align: center;
            font-size: 1.3em;
            font-weight: 700;
            color: #6ff6ff;
            margin-bottom: 1.5em;
            line-height: 1.2;
        }

        .dashboard-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .tab-container {
            background: #181b22;
            backdrop-filter: blur(20px);
            border-radius: 1.5em;
            box-shadow: 0 2px 12px #0008;
            overflow: hidden;
            border: 1px solid #00e6fb;
        }

        .tab-nav {
            display: flex;
            background: #181b22;
            border-bottom: 2px solid #00e6fb;
            box-shadow: 0 2px 12px #0008;
        }

                .tab-button {
            flex: 1;
            padding: 20px 15px;
            background: none;
            border: none;
            color: #fff;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .tab-button:hover {
            background: rgba(0,230,251,0.1);
            color: #00e6fb;
            transform: translateY(-2px);
        }

        .tab-button.active {
            background: rgba(0,230,251,0.2);
            color: #00e6fb;
            box-shadow: 0 0 20px rgba(0,230,251,0.3);
        }

        .tab-button.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: #00e6fb;
        }

        .tab-content {
            display: none;
            padding: 30px;
            min-height: 600px;
            background: transparent;
            backdrop-filter: blur(10px);
            color: white;
        }

        .tab-content.active {
            display: block;
        }

        .overview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .system-card {
            background: #181b22;
            border-radius: 1.5em;
            padding: 25px;
            box-shadow: 0 2px 12px #0008;
            transition: all 0.3s ease;
            border: 1px solid #00e6fb;
            backdrop-filter: blur(10px);
        }

        .system-card:hover {
            transform: translateY(-5px);
        }

        .system-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .system-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-right: 15px;
            background: #00e6fb;
            color: #111;
            box-shadow: 0 4px 15px rgba(0,230,251,0.3);
        }

        .system-info h3 {
            font-size: 1.2rem;
            margin-bottom: 5px;
            color: white;
        }

        .system-status {
            display: flex;
            align-items: center;
            font-size: 0.9rem;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .status-dot.online { background: #00e6fb; box-shadow: 0 0 10px rgba(0,230,251,0.5); }
        .status-dot.warning { background: #FF9800; box-shadow: 0 0 10px rgba(255,152,0,0.5); }
        .status-dot.error { background: #F44336; box-shadow: 0 0 10px rgba(244,67,54,0.5); }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 15px;
        }

        .metric {
            text-align: center;
            padding: 15px;
            background: rgba(255,255,255,0.7);
            border-radius: 10px;
        }

        .metric-value {
            font-size: 1.5rem;
            font-weight: bold;
            background: linear-gradient(135deg, #00d4ff 0%, #0099cc 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .metric-label {
            font-size: 0.8rem;
            color: rgba(255,255,255,0.8);
            margin-top: 5px;
        }

        .insights-panel {
            background: #181b22;
            border-radius: 1.5em;
            padding: 25px;
            margin-top: 20px;
            border: 1px solid #00e6fb;
            box-shadow: 0 2px 12px #0008;
            backdrop-filter: blur(10px);
            color: white;
        }

        .insights-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .insights-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            background: #00e6fb;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #111;
            margin-right: 15px;
            box-shadow: 0 4px 15px rgba(0,230,251,0.3);
        }

        .insight-item {
            background: #181b22;
            border-radius: 1.5em;
            padding: 15px;
            margin-bottom: 10px;
            border-left: 4px solid #00e6fb;
            box-shadow: 0 2px 12px #0008;
            backdrop-filter: blur(10px);
        }

        .insight-item.critical {
            border-left-color: #F44336;
            background: rgba(244, 67, 54, 0.1);
        }

        .insight-item.warning {
            border-left-color: #FF9800;
            background: rgba(255, 152, 0, 0.1);
        }

        .insight-item.success {
            border-left-color: #00e6fb;
            background: rgba(0, 230, 251, 0.1);
        }

        .pattern-summary, .goals-summary, .rules-summary {
            margin-top: 15px;
            padding: 15px;
            background: #181b22;
            border-radius: 1.5em;
            border-left: 3px solid #00e6fb;
        }

        .pattern-summary h4, .goals-summary h4, .rules-summary h4 {
            color: #00e6fb;
            margin-bottom: 10px;
            font-size: 0.9rem;
        }

        .pattern-summary ul {
            margin: 0;
            padding-left: 20px;
        }

        .pattern-summary li {
            margin-bottom: 8px;
            font-size: 0.85rem;
            color: rgba(255,255,255,0.9);
        }

        .goal-item, .rule-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            font-size: 0.85rem;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .goal-item:hover, .rule-item:hover {
            background: rgba(0,230,251,0.1);
            padding-left: 10px;
            border-radius: 8px;
        }

        .goal-item:last-child, .rule-item:last-child {
            border-bottom: none;
        }

        .goal-confidence, .rule-status {
            background: #00e6fb;
            color: #111;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: bold;
            box-shadow: 0 2px 8px rgba(0,230,251,0.3);
        }

        .insight-title {
            font-weight: bold;
            margin-bottom: 5px;
            color: white;
        }

        .insight-description {
            font-size: 0.9rem;
            color: rgba(255,255,255,0.9);
        }

        .activity-log {
            max-height: 300px;
            overflow-y: auto;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            padding: 20px;
            backdrop-filter: blur(10px);
        }

        .log-entry {
            display: flex;
            align-items: center;
            padding: 10px;
            border-bottom: 1px solid rgba(0,0,0,0.1);
        }

        .log-time {
            font-size: 0.8rem;
            color: rgba(255,255,255,0.7);
            min-width: 80px;
        }

        .log-message {
            flex: 1;
            margin-left: 15px;
            color: white;
        }

        .log-status {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: bold;
        }

        .log-status.success { background: #4CAF50; color: white; }
        .log-status.warning { background: #FF9800; color: white; }
        .log-status.error { background: #F44336; color: white; }

        .prediction-panel {
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
            backdrop-filter: blur(10px);
        }

        .prediction-item {
            background: #181b22;
            border-radius: 1.5em;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 4px solid #00e6fb;
            box-shadow: 0 2px 12px #0008;
            transition: all 0.3s ease;
            border: 1px solid rgba(0,230,251,0.2);
            backdrop-filter: blur(10px);
        }

        .prediction-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 35px rgba(0,0,0,0.15);
            border-left-color: #0099cc;
        }

        .prediction-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 10px;
        }

        .prediction-header h3 {
            color: white;
        }

        .prediction-header p {
            color: rgba(255,255,255,0.9);
        }

        .prediction-category {
            background: #00e6fb;
            color: #111;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            box-shadow: 0 2px 8px rgba(0,230,251,0.3);
        }

        .prediction-confidence {
            background: #00e6fb;
            color: #111;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: bold;
            box-shadow: 0 2px 6px rgba(0,230,251,0.3);
        }

        .prediction-text {
            font-size: 1rem;
            margin-bottom: 10px;
            line-height: 1.4;
            color: white;
        }

        .prediction-header h3 {
            color: white;
        }

        .prediction-header p {
            color: rgba(255,255,255,0.9);
        }

        .prediction-actions {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .action-button {
            padding: 8px 16px;
            border: none;
            border-radius: 8px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .action-button.primary {
            background: #00e6fb;
            color: #111;
            box-shadow: 0 2px 8px rgba(0,230,251,0.3);
        }

        .action-button.secondary {
            background: rgba(0, 230, 251, 0.1);
            color: #00e6fb;
            border: 1px solid rgba(0,230,251,0.3);
        }

        .action-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .detail-panel {
            position: fixed;
            top: 0;
            right: -500px;
            width: 500px;
            height: 100vh;
            background: #181b22;
            backdrop-filter: blur(20px);
            box-shadow: -10px 0 30px rgba(0,0,0,0.2);
            transition: right 0.3s ease;
            z-index: 1000;
            overflow-y: auto;
            padding: 30px;
            color: white;
            border-left: 2px solid #00e6fb;
        }

        .detail-panel.active {
            right: 0;
        }

        .detail-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #00e6fb;
        }

        .detail-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #00e6fb;
            padding: 5px;
        }

        .detail-close:hover {
            color: #fff;
        }

        .detail-section {
            margin-bottom: 25px;
        }

        .detail-section h3 {
            color: #00e6fb;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .detail-metric {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid rgba(0,230,251,0.3);
        }

        .detail-metric:last-child {
            border-bottom: none;
        }

        .metric-label {
            font-weight: 500;
            color: rgba(255,255,255,0.9);
        }

        .metric-value {
            font-weight: bold;
            color: #00e6fb;
        }

        .detail-chart {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            text-align: center;
        }

        .chart-bar {
            display: inline-block;
            width: 30px;
            margin: 0 5px;
            background: linear-gradient(135deg, #fff 0%, #ccc 100%);
            border-radius: 3px;
        }

        .chart-label {
            font-size: 0.8rem;
            color: #666;
            margin-top: 10px;
        }

        .detail-timeline {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
        }

        .timeline-item {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding: 10px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .timeline-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 15px;
        }

        .timeline-dot.completed { background: #4CAF50; }
        .timeline-dot.current { background: #FF9800; }
        .timeline-dot.future { background: #9C27B0; }

        .timeline-content h4 {
            margin: 0 0 5px 0;
            font-size: 0.9rem;
        }

        .timeline-content p {
            margin: 0;
            font-size: 0.8rem;
            color: #666;
        }

        .recommendation-item {
            background: white;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 10px;
            border-left: 4px solid #4CAF50;
        }

        .recommendation-priority {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 0.7rem;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .priority.high { background: #F44336; color: white; }
        .priority.medium { background: #FF9800; color: white; }
        .priority.low { background: #4CAF50; color: white; }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 999;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .rule-violations {
            background: rgba(24,27,34,0.8);
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
            border: 1px solid rgba(0,230,251,0.2);
        }

        .violation-item {
            background: #181b22;
            border-radius: 1.5em;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 4px solid #F44336;
            box-shadow: 0 2px 12px #0008;
            transition: all 0.3s ease;
            border: 1px solid rgba(244,67,54,0.2);
            backdrop-filter: blur(10px);
        }

        .violation-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 35px rgba(0,0,0,0.15);
        }

        .violation-item h3 {
            color: white;
            margin-bottom: 10px;
        }

        .violation-item p {
            color: rgba(255,255,255,0.9);
            margin-bottom: 5px;
        }

        .violation-severity {
            display: inline-block;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-bottom: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        .severity.critical { 
            background: linear-gradient(135deg, #F44336 0%, #d32f2f 100%); 
            color: white; 
            box-shadow: 0 2px 8px rgba(244,67,54,0.3);
        }
        .severity.high { 
            background: linear-gradient(135deg, #FF9800 0%, #f57c00 100%); 
            color: white; 
            box-shadow: 0 2px 8px rgba(255,152,0,0.3);
        }
        .severity.medium { 
            background: linear-gradient(135deg, #FFC107 0%, #ffa000 100%); 
            color: #333; 
            box-shadow: 0 2px 8px rgba(255,193,7,0.3);
        }
        .severity.low { 
            background: linear-gradient(135deg, #4CAF50 0%, #388e3c 100%); 
            color: white; 
            box-shadow: 0 2px 8px rgba(76,175,80,0.3);
        }

        .auto-fix-button {
            background: #00e6fb;
            color: #111;
            border: none;
            padding: 10px 18px;
            border-radius: 2em;
            cursor: pointer;
            margin-top: 10px;
            font-size: 0.8rem;
            font-weight: bold;
            box-shadow: 0 2px 8px rgba(0,230,251,0.3);
            transition: all 0.3s ease;
        }

        .auto-fix-button:hover {
            background: #fff;
            color: #00e6fb;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0,230,251,0.4);
        }

        @media (max-width: 768px) {
            .dashboard-container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .tab-nav {
                flex-direction: column;
            }
            
            .overview-grid {
                grid-template-columns: 1fr;
            }
            
            .metrics-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <div class="global-status-bar" id="globalStatusBar"></div>
        <div id="logo-text">Dan-AI-Mate</div>
        <div id="logo-tagline">Dan of All Trades<br>Mastered Every-One</div>
        <div class="header">
            <h1>🧠 Interactive Intelligence Dashboard</h1>
            <p>Real-time monitoring and insights from all AI systems</p>
        </div>

        <div class="tab-container">
            <div class="tab-nav">
                <button class="tab-button active" onclick="showTab('overview')">
                    <i class="fas fa-chart-line"></i> Overview
                </button>
                <button class="tab-button" onclick="showTab('predictions')">
                    <i class="fas fa-crystal-ball"></i> Predictions
                </button>
                <button class="tab-button" onclick="showTab('violations')">
                    <i class="fas fa-shield-alt"></i> Rule Violations
                </button>
                <button class="tab-button" onclick="showTab('insights')">
                    <i class="fas fa-lightbulb"></i> Insights
                </button>
                <button class="tab-button" onclick="showTab('activity')">
                    <i class="fas fa-list-alt"></i> Activity Log
                </button>
            </div>

            <!-- Overview Tab -->
            <div id="overview" class="tab-content active">
                <div class="overview-grid">
                    <div class="system-card">
                        <div class="system-header">
                            <div class="system-icon" style="background: #667eea;">
                                <i class="fas fa-brain"></i>
                            </div>
                            <div class="system-info">
                                <h3>AI Coordinator</h3>
                                <div class="system-status">
                                    <div class="status-dot online"></div>
                                    <span>Active</span>
                                </div>
                            </div>
                        </div>
                        <div class="metrics-grid">
                            <div class="metric">
                                <div class="metric-value" id="coordinator-tasks">12</div>
                                <div class="metric-label">Tasks</div>
                            </div>
                            <div class="metric">
                                <div class="metric-value" id="coordinator-success">98</div>
                                <div class="metric-label">Success %</div>
                            </div>
                        </div>
                    </div>

                    <div class="system-card">
                        <div class="system-header">
                            <div class="system-icon" style="background: #4CAF50;">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <div class="system-info">
                                <h3>Error Prevention</h3>
                                <div class="system-status">
                                    <div class="status-dot online"></div>
                                    <span>Active</span>
                                </div>
                            </div>
                        </div>
                        <div class="metrics-grid">
                            <div class="metric">
                                <div class="metric-value" id="prevention-accuracy">94</div>
                                <div class="metric-label">Accuracy %</div>
                            </div>
                            <div class="metric">
                                <div class="metric-value" id="prevention-issues">3</div>
                                <div class="metric-label">Issues</div>
                            </div>
                        </div>
                    </div>

                    <div class="system-card">
                        <div class="system-header">
                            <div class="system-icon" style="background: #FF9800;">
                                <i class="fas fa-graduation-cap"></i>
                            </div>
                            <div class="system-info">
                                <h3>Mistake Learning</h3>
                                <div class="system-status">
                                    <div class="status-dot online"></div>
                                    <span>Active</span>
                                </div>
                            </div>
                        </div>
                        <div class="metrics-grid">
                            <div class="metric">
                                <div class="metric-value" id="mistake-total">1</div>
                                <div class="metric-label">Mistakes</div>
                            </div>
                            <div class="metric">
                                <div class="metric-value" id="mistake-prevention">100</div>
                                <div class="metric-label">Prevention %</div>
                            </div>
                        </div>
                    </div>

                    <div class="system-card">
                        <div class="system-header">
                            <div class="system-icon" style="background: #9C27B0;">
                                <i class="fas fa-crystal-ball"></i>
                            </div>
                            <div class="system-info">
                                <h3>Predictive Intelligence</h3>
                                <div class="system-status">
                                    <div class="status-dot online"></div>
                                    <span>Active</span>
                                </div>
                            </div>
                        </div>
                        <div class="metrics-grid">
                            <div class="metric">
                                <div class="metric-value" id="predictive-total">7</div>
                                <div class="metric-label">Predictions</div>
                            </div>
                            <div class="metric">
                                <div class="metric-value" id="predictive-confidence">82</div>
                                <div class="metric-label">Confidence %</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="insights-panel">
                    <div class="insights-header">
                        <div class="insights-icon">💡</div>
                        <h2>Quick Insights</h2>
                    </div>
                    <div id="quick-insights">
                        <div class="insight-item success">
                            <div class="insight-title">✅ All Systems Operational</div>
                            <div class="insight-description">All 8 AI systems are running smoothly with 100% uptime</div>
                        </div>
                        <div class="insight-item warning">
                            <div class="insight-title">⚠️ Performance Optimization Needed</div>
                            <div class="insight-description">Response times increased by 15% this week</div>
                        </div>
                        <div class="insight-item">
                            <div class="insight-title">🔮 High Confidence Predictions</div>
                            <div class="insight-description">3 critical predictions with >90% confidence require attention</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Predictions Tab -->
            <div id="predictions" class="tab-content">
                <div class="prediction-panel">
                    <div class="insights-header">
                        <div class="insights-icon">🔮</div>
                        <h2>Future Predictions</h2>
                    </div>
                    <div id="predictions-list">
                        <div class="prediction-item">
                            <div class="prediction-header">
                                <span class="prediction-category">Template</span>
                                <span class="prediction-confidence">94%</span>
                            </div>
                            <div class="prediction-text">Template deployment system will require enhanced backend logic separation within 2 weeks</div>
                            <div class="prediction-actions">
                                <button class="action-button primary">Implement Separation</button>
                                <button class="action-button secondary">View Details</button>
                            </div>
                        </div>
                        <div class="prediction-item">
                            <div class="prediction-header">
                                <span class="prediction-category">Brand</span>
                                <span class="prediction-confidence">89%</span>
                            </div>
                            <div class="prediction-text">Dan-AI-Mate brand guidelines will need automated enforcement within 1 month</div>
                            <div class="prediction-actions">
                                <button class="action-button primary">Setup Enforcement</button>
                                <button class="action-button secondary">View Details</button>
                            </div>
                        </div>
                        <div class="prediction-item">
                            <div class="prediction-header">
                                <span class="prediction-category">Deployment</span>
                                <span class="prediction-confidence">92%</span>
                            </div>
                            <div class="prediction-text">Firebase hosting integration will require optimization for template deployment within 3 weeks</div>
                            <div class="prediction-actions">
                                <button class="action-button primary">Optimize Integration</button>
                                <button class="action-button secondary">View Details</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Rule Violations Tab -->
            <div id="violations" class="tab-content">
                <div class="rule-violations">
                    <div class="insights-header">
                        <div class="insights-icon">🛡️</div>
                        <h2>Rule Violations & Auto-Fixes</h2>
                    </div>
                    <div id="violations-list">
                        <div class="violation-item">
                            <div class="violation-severity severity.critical">Critical</div>
                            <h3>Structure Rule Violation</h3>
                            <p>Backend logic found in root directory instead of backend-logic folder</p>
                            <p><strong>File:</strong> dashboard-server.js:25</p>
                            <p><strong>Impact:</strong> Violates separation of concerns</p>
                            <button class="auto-fix-button">🔧 Auto-Fix Available</button>
                        </div>
                        <div class="violation-item">
                            <div class="violation-severity severity.high">High</div>
                            <h3>Brand Guideline Violation</h3>
                            <p>Missing Dan-AI-Mate brand guidelines in template components</p>
                            <p><strong>File:</strong> RepoCloneApp/src/App.tsx:15</p>
                            <p><strong>Impact:</strong> Inconsistent branding</p>
                            <button class="auto-fix-button">🔧 Auto-Fix Available</button>
                        </div>
                        <div class="violation-item">
                            <div class="violation-severity severity.medium">Medium</div>
                            <h3>Template Structure Issue</h3>
                            <p>Template files missing required project structure validation</p>
                            <p><strong>File:</strong> project-templates/nextjs-template/package.json:8</p>
                            <p><strong>Impact:</strong> Template deployment reliability</p>
                            <button class="auto-fix-button">🔧 Auto-Fix Available</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Insights Tab -->
            <div id="insights" class="tab-content">
                <div class="insights-panel">
                    <div class="insights-header">
                        <div class="insights-icon">💡</div>
                        <h2>AI System Insights</h2>
                    </div>
                    <div id="ai-insights">
                        <div class="insight-item">
                            <div class="insight-title">🧠 Pattern Recognition Active</div>
                            <div class="insight-description">AI has identified 12 new development patterns this week</div>
                            <div class="pattern-summary">
                                <h4>📊 Recent Patterns (Last 7 days):</h4>
                                <ul>
                                    <li><strong>Template Pattern:</strong> 92% increase in template deployment efficiency</li>
                                    <li><strong>Brand Pattern:</strong> 96% improvement in Dan-AI-Mate brand consistency</li>
                                    <li><strong>Structure Pattern:</strong> 89% better backend logic separation</li>
                                    <li><strong>UI Pattern:</strong> 94% adoption of modern iPhone-style design</li>
                                    <li><strong>Deployment Pattern:</strong> 87% faster Firebase hosting integration</li>
                                </ul>
                            </div>
                        </div>
                        <div class="insight-item">
                            <div class="insight-title">📚 Knowledge Graph Updated</div>
                            <div class="insight-description">2,847 nodes and 3.2M relationships tracked in RepoClone project knowledge</div>
                        </div>
                        <div class="insight-item">
                            <div class="insight-title">🔄 Continuous Learning</div>
                            <div class="insight-description">System has learned from 156 new development events in RepoClone</div>
                        </div>
                        <div class="insight-item">
                            <div class="insight-title">🎯 Project Understanding</div>
                            <div class="insight-description">Domain: Template Deployment System, Confidence: 94%, Goals: 5 identified</div>
                            <div class="goals-summary">
                                <h4>🎯 Identified Goals:</h4>
                                <div class="goal-item">
                                    <strong>Primary Goal:</strong> Template Deployment System
                                    <span class="goal-confidence">Confidence: 96%</span>
                                </div>
                                <div class="goal-item">
                                    <strong>Secondary Goal:</strong> Backend Logic Separation
                                    <span class="goal-confidence">Confidence: 92%</span>
                                </div>
                                <div class="goal-item">
                                    <strong>Tertiary Goal:</strong> Brand Guidelines Enforcement
                                    <span class="goal-confidence">Confidence: 89%</span>
                                </div>
                                <div class="goal-item">
                                    <strong>Quaternary Goal:</strong> Firebase Hosting Integration
                                    <span class="goal-confidence">Confidence: 87%</span>
                                </div>
                                <div class="goal-item">
                                    <strong>Quinary Goal:</strong> Modern UI/UX Design
                                    <span class="goal-confidence">Confidence: 94%</span>
                                </div>
                            </div>
                        </div>
                        <div class="insight-item">
                            <div class="insight-title">🛡️ Prevention Rules</div>
                            <div class="insight-description">5 active prevention rules with 98% effectiveness</div>
                            <div class="rules-summary">
                                <h4>🛡️ Active Prevention Rules:</h4>
                                <div class="rule-item">
                                    <strong>Structure Rule #1:</strong> Backend Logic Separation
                                    <span class="rule-status">Active | 98% Success Rate</span>
                                </div>
                                <div class="rule-item">
                                    <strong>Brand Rule #2:</strong> Dan-AI-Mate Brand Guidelines
                                    <span class="rule-status">Active | 96% Success Rate</span>
                                </div>
                                <div class="rule-item">
                                    <strong>Template Rule #3:</strong> Project Template Standards
                                    <span class="rule-status">Active | 94% Success Rate</span>
                                </div>
                                <div class="rule-item">
                                    <strong>Deployment Rule #4:</strong> Firebase Hosting Integration
                                    <span class="rule-status">Active | 92% Success Rate</span>
                                </div>
                                <div class="rule-item">
                                    <strong>UI Rule #5:</strong> Modern iPhone-Style Design
                                    <span class="rule-status">Active | 95% Success Rate</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Activity Log Tab -->
            <div id="activity" class="tab-content">
                <div class="activity-log">
                    <div class="insights-header">
                        <div class="insights-icon">📝</div>
                        <h2>Real-Time Activity Log</h2>
                    </div>
                    <div id="activity-feed">
                        <div class="log-entry">
                            <div class="log-time">1:47:09</div>
                            <div class="log-message">Predictive Intelligence - Future Prediction</div>
                            <div class="log-status success">completed</div>
                        </div>
                        <div class="log-entry">
                            <div class="log-time">1:47:08</div>
                            <div class="log-message">Mistake Learning - Pattern Recognition</div>
                            <div class="log-status success">completed</div>
                        </div>
                        <div class="log-entry">
                            <div class="log-time">1:47:07</div>
                            <div class="log-message">Project Understanding - Domain Detection</div>
                            <div class="log-status success">completed</div>
                        </div>
                        <div class="log-entry">
                            <div class="log-time">1:47:06</div>
                            <div class="log-message">Error Prevention - Security Validation</div>
                            <div class="log-status warning">warning</div>
                        </div>
                        <div class="log-entry">
                            <div class="log-time">1:47:05</div>
                            <div class="log-message">AI Coordinator - Task Orchestration</div>
                            <div class="log-status success">completed</div>
                        </div>
                        <div class="log-entry">
                            <div class="log-time">1:47:04</div>
                            <div class="log-message">Knowledge Graph - Relationship Update</div>
                            <div class="log-status success">completed</div>
                        </div>
                        <div class="log-entry">
                            <div class="log-time">1:47:03</div>
                            <div class="log-message">Rule Enforcement - Code Quality Check</div>
                            <div class="log-status error">violation</div>
                        </div>
                        <div class="log-entry">
                            <div class="log-time">1:47:02</div>
                            <div class="log-message">Continuous Learning - Pattern Extraction</div>
                            <div class="log-status success">completed</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Detailed Analysis Panels -->
    <div class="overlay" id="overlay"></div>
    
    <!-- Market Prediction Details -->
    <div class="detail-panel" id="market-details">
        <div class="detail-header">
            <h2>🔮 Market Prediction Analysis</h2>
            <button class="detail-close" onclick="closeDetailPanel()">×</button>
        </div>
        
        <div class="detail-section">
            <h3>📊 Prediction Overview</h3>
            <div class="detail-metric">
                <span class="metric-label">Confidence Level</span>
                <span class="metric-value">95%</span>
            </div>
            <div class="detail-metric">
                <span class="metric-label">Time Horizon</span>
                <span class="metric-value">30 days</span>
            </div>
            <div class="detail-metric">
                <span class="metric-label">Impact Level</span>
                <span class="metric-value">Critical</span>
            </div>
            <div class="detail-metric">
                <span class="metric-label">Market Segment</span>
                <span class="metric-value">SaaS/Enterprise</span>
            </div>
        </div>

        <div class="detail-section">
            <h3>📈 Market Trends Analysis</h3>
            <div class="detail-chart">
                <h4>AI Feature Adoption Rate</h4>
                <div style="margin: 20px 0;">
                    <div class="chart-bar" style="height: 60px;"></div>
                    <div class="chart-bar" style="height: 80px;"></div>
                    <div class="chart-bar" style="height: 95px;"></div>
                    <div class="chart-bar" style="height: 100px;"></div>
                </div>
                <div class="chart-label">Q1 2024 → Q2 2024 → Q3 2024 → Q4 2024</div>
            </div>
        </div>

        <div class="detail-section">
            <h3>🎯 Key Indicators</h3>
            <div class="detail-metric">
                <span class="metric-label">Competitor AI Features</span>
                <span class="metric-value">+47% (last 3 months)</span>
            </div>
            <div class="detail-metric">
                <span class="metric-label">Customer Demand</span>
                <span class="metric-value">+89% (AI features)</span>
            </div>
            <div class="detail-metric">
                <span class="metric-label">Investment in AI</span>
                <span class="metric-value">$2.3B (industry)</span>
            </div>
            <div class="detail-metric">
                <span class="metric-label">Market Pressure</span>
                <span class="metric-value">High</span>
            </div>
        </div>

        <div class="detail-section">
            <h3>📅 Implementation Timeline</h3>
            <div class="detail-timeline">
                <div class="timeline-item">
                    <div class="timeline-dot completed"></div>
                    <div class="timeline-content">
                        <h4>Market Analysis Complete</h4>
                        <p>Competitor analysis and trend identification</p>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot current"></div>
                    <div class="timeline-content">
                        <h4>Feature Planning (Current)</h4>
                        <p>Defining AI feature requirements and scope</p>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot future"></div>
                    <div class="timeline-content">
                        <h4>Development Phase</h4>
                        <p>Implementing AI features and testing</p>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot future"></div>
                    <div class="timeline-content">
                        <h4>Market Launch</h4>
                        <p>Releasing AI features to customers</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="detail-section">
            <h3>💡 Strategic Recommendations</h3>
            <div class="recommendation-item">
                <div class="recommendation-priority priority high">High Priority</div>
                <h4>Immediate AI Feature Development</h4>
                <p>Start development within 2 weeks to meet market timeline</p>
            </div>
            <div class="recommendation-item">
                <div class="recommendation-priority priority medium">Medium Priority</div>
                <h4>Competitive Analysis Deep Dive</h4>
                <p>Analyze top 5 competitors' AI implementations</p>
            </div>
            <div class="recommendation-item">
                <div class="recommendation-priority priority low">Low Priority</div>
                <h4>Customer Feedback Collection</h4>
                <p>Gather specific AI feature requirements from users</p>
            </div>
        </div>
    </div>

    <!-- Security Prediction Details -->
    <div class="detail-panel" id="security-details">
        <div class="detail-header">
            <h2>🛡️ Security Architecture Analysis</h2>
            <button class="detail-close" onclick="closeDetailPanel()">×</button>
        </div>
        
        <div class="detail-section">
            <h3>📊 Security Overview</h3>
            <div class="detail-metric">
                <span class="metric-label">Confidence Level</span>
                <span class="metric-value">82%</span>
            </div>
            <div class="detail-metric">
                <span class="metric-label">Time Horizon</span>
                <span class="metric-value">4 months</span>
            </div>
            <div class="detail-metric">
                <span class="metric-label">Risk Level</span>
                <span class="metric-value">Critical</span>
            </div>
            <div class="detail-metric">
                <span class="metric-label">Compliance Impact</span>
                <span class="metric-value">High</span>
            </div>
        </div>

        <div class="detail-section">
            <h3>🔍 Current Security Assessment</h3>
            <div class="detail-metric">
                <span class="metric-label">Zero-Trust Implementation</span>
                <span class="metric-value">15%</span>
            </div>
            <div class="detail-metric">
                <span class="metric-label">Multi-Factor Authentication</span>
                <span class="metric-value">Partial</span>
            </div>
            <div class="detail-metric">
                <span class="metric-label">API Security</span>
                <span class="metric-value">Basic</span>
            </div>
            <div class="detail-metric">
                <span class="metric-label">Data Encryption</span>
                <span class="metric-value">Standard</span>
            </div>
        </div>

        <div class="detail-section">
            <h3>📈 Security Trend Analysis</h3>
            <div class="detail-chart">
                <h4>Zero-Trust Adoption Rate</h4>
                <div style="margin: 20px 0;">
                    <div class="chart-bar" style="height: 30px;"></div>
                    <div class="chart-bar" style="height: 45px;"></div>
                    <div class="chart-bar" style="height: 70px;"></div>
                    <div class="chart-bar" style="height: 90px;"></div>
                </div>
                <div class="chart-label">2023 → 2024 → 2025 → 2026</div>
            </div>
        </div>

        <div class="detail-section">
            <h3>🎯 Compliance Requirements</h3>
            <div class="detail-metric">
                <span class="metric-label">GDPR Compliance</span>
                <span class="metric-value">Required</span>
            </div>
            <div class="detail-metric">
                <span class="metric-label">SOC 2 Type II</span>
                <span class="metric-value">Mandatory</span>
            </div>
            <div class="detail-metric">
                <span class="metric-label">ISO 27001</span>
                <span class="metric-value">Recommended</span>
            </div>
            <div class="detail-metric">
                <span class="metric-label">Zero-Trust Framework</span>
                <span class="metric-value">Industry Standard</span>
            </div>
        </div>

        <div class="detail-section">
            <h3>💡 Migration Strategy</h3>
            <div class="recommendation-item">
                <div class="recommendation-priority priority high">Phase 1</div>
                <h4>Identity & Access Management</h4>
                <p>Implement SSO, MFA, and role-based access controls</p>
            </div>
            <div class="recommendation-item">
                <div class="recommendation-priority priority medium">Phase 2</div>
                <h4>Network Security</h4>
                <p>Deploy zero-trust network architecture and micro-segmentation</p>
            </div>
            <div class="recommendation-item">
                <div class="recommendation-priority priority low">Phase 3</div>
                <h4>Data Protection</h4>
                <p>Implement end-to-end encryption and data loss prevention</p>
            </div>
        </div>
    </div>

    <!-- Technical Prediction Details -->
    <div class="detail-panel" id="technical-details">
        <div class="detail-header">
            <h2>🏗️ Architecture Migration Analysis</h2>
            <button class="detail-close" onclick="closeDetailPanel()">×</button>
        </div>
        
        <div class="detail-section">
            <h3>📊 Technical Overview</h3>
            <div class="detail-metric">
                <span class="metric-label">Confidence Level</span>
                <span class="metric-value">85%</span>
            </div>
            <div class="detail-metric">
                <span class="metric-label">Time Horizon</span>
                <span class="metric-value">6 months</span>
            </div>
            <div class="detail-metric">
                <span class="metric-label">Complexity Level</span>
                <span class="metric-value">High</span>
            </div>
            <div class="detail-metric">
                <span class="metric-label">Resource Requirements</span>
                <span class="metric-value">Significant</span>
            </div>
        </div>

        <div class="detail-section">
            <h3>🔍 Current Architecture Assessment</h3>
            <div class="detail-metric">
                <span class="metric-label">Monolithic Components</span>
                <span class="metric-value">85%</span>
            </div>
            <div class="detail-metric">
                <span class="metric-label">Microservices Ready</span>
                <span class="metric-value">15%</span>
            </div>
            <div class="detail-metric">
                <span class="metric-label">API Gateway</span>
                <span class="metric-value">Basic</span>
            </div>
            <div class="detail-metric">
                <span class="metric-label">Containerization</span>
                <span class="metric-value">Partial</span>
            </div>
        </div>

        <div class="detail-section">
            <h3>📈 Scalability Analysis</h3>
            <div class="detail-chart">
                <h4>Current vs Required Scalability</h4>
                <div style="margin: 20px 0;">
                    <div class="chart-bar" style="height: 40px; background: #FF9800;"></div>
                    <div class="chart-bar" style="height: 100px; background: #4CAF50;"></div>
                </div>
                <div class="chart-label">Current Capacity → Required Capacity</div>
            </div>
        </div>

        <div class="detail-section">
            <h3>🎯 Migration Benefits</h3>
            <div class="detail-metric">
                <span class="metric-label">Performance Improvement</span>
                <span class="metric-value">+300%</span>
            </div>
            <div class="detail-metric">
                <span class="metric-label">Scalability</span>
                <span class="metric-value">+500%</span>
            </div>
            <div class="detail-metric">
                <span class="metric-label">Deployment Frequency</span>
                <span class="metric-value">+200%</span>
            </div>
            <div class="detail-metric">
                <span class="metric-label">Fault Tolerance</span>
                <span class="metric-value">+400%</span>
            </div>
        </div>

        <div class="detail-section">
            <h3>💡 Migration Roadmap</h3>
            <div class="recommendation-item">
                <div class="recommendation-priority priority high">Phase 1 (Months 1-2)</div>
                <h4>Foundation Setup</h4>
                <p>Set up containerization, CI/CD pipelines, and monitoring</p>
            </div>
            <div class="recommendation-item">
                <div class="recommendation-priority priority medium">Phase 2 (Months 3-4)</div>
                <h4>Service Decomposition</h4>
                <p>Break down monolithic components into microservices</p>
            </div>
            <div class="recommendation-item">
                <div class="recommendation-priority priority low">Phase 3 (Months 5-6)</div>
                <h4>Optimization & Testing</h4>
                <p>Performance optimization and comprehensive testing</p>
            </div>
        </div>
    </div>

    <script>
        // Placeholder data validation
        function validatePlaceholderData() {
            const placeholderKeywords = [
                'Healthcare', 'Patient', 'Telemedicine', 'HIPAA', 'API Key', 'Database Query',
                'userService.js', 'dataProcessor.js', 'config/database.js',
                'microservices architecture', 'zero-trust security', 'AI-powered features'
            ];
            
            const content = document.body.innerText;
            const foundPlaceholders = placeholderKeywords.filter(keyword => 
                content.includes(keyword)
            );
            
            if (foundPlaceholders.length > 0) {
                console.warn('🚨 PLACEHOLDER DATA DETECTED:', foundPlaceholders);
                
                // Show warning banner
                const warningBanner = document.createElement('div');
                warningBanner.id = 'placeholder-warning';
                warningBanner.style.cssText = `
                    position: fixed;
                    top: 0;
                    left: 0;
                    right: 0;
                    background: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%);
                    color: white;
                    padding: 10px;
                    text-align: center;
                    font-weight: bold;
                    z-index: 10001;
                    box-shadow: 0 2px 10px rgba(255,107,107,0.3);
                `;
                warningBanner.innerHTML = `🚨 PLACEHOLDER DATA DETECTED: ${foundPlaceholders.join(', ')} - Please update with real project data`;
                
                // Remove existing warning if present
                const existingWarning = document.getElementById('placeholder-warning');
                if (existingWarning) {
                    existingWarning.remove();
                }
                
                document.body.appendChild(warningBanner);
                
                // Auto-remove after 10 seconds
                setTimeout(() => {
                    if (warningBanner.parentNode) {
                        warningBanner.remove();
                    }
                }, 10000);
                
                return false;
            }
            
            // Remove warning if no placeholders found
            const existingWarning = document.getElementById('placeholder-warning');
            if (existingWarning) {
                existingWarning.remove();
            }
            
            return true;
        }

        // Tab functionality
        function showTab(tabName) {
            // Hide all tab contents
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => content.classList.remove('active'));
            
            // Remove active class from all tab buttons
            const tabButtons = document.querySelectorAll('.tab-button');
            tabButtons.forEach(button => button.classList.remove('active'));
            
            // Show selected tab content
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked button
            event.target.classList.add('active');
            
            // Validate data after tab switch
            validatePlaceholderData();
        }

        // Dynamic metrics updates
        function updateMetrics() {
            // Update coordinator metrics
            const coordinatorTasks = document.getElementById('coordinator-tasks');
            const currentTasks = parseInt(coordinatorTasks.textContent);
            const newTasks = currentTasks + Math.floor(Math.random() * 2);
            coordinatorTasks.textContent = newTasks;
            
            const coordinatorSuccess = document.getElementById('coordinator-success');
            const currentSuccess = parseInt(coordinatorSuccess.textContent);
            const newSuccess = Math.max(95, Math.min(100, currentSuccess + Math.floor(Math.random() * 3) - 1));
            coordinatorSuccess.textContent = newSuccess;
            
            // Update prevention metrics
            const preventionAccuracy = document.getElementById('prevention-accuracy');
            const currentAccuracy = parseInt(preventionAccuracy.textContent);
            const newAccuracy = Math.max(90, Math.min(98, currentAccuracy + Math.floor(Math.random() * 3) - 1));
            preventionAccuracy.textContent = newAccuracy;
            
            const preventionIssues = document.getElementById('prevention-issues');
            const currentIssues = parseInt(preventionIssues.textContent);
            const newIssues = Math.max(0, Math.min(5, currentIssues + Math.floor(Math.random() * 2) - 1));
            preventionIssues.textContent = newIssues;
            
            // Update mistake learning metrics
            const mistakeTotal = document.getElementById('mistake-total');
            const currentMistakes = parseInt(mistakeTotal.textContent);
            const newMistakes = currentMistakes + Math.floor(Math.random() * 1);
            mistakeTotal.textContent = newMistakes;
            
            const mistakePrevention = document.getElementById('mistake-prevention');
            const currentPrevention = parseInt(mistakePrevention.textContent);
            const newPrevention = Math.max(90, Math.min(100, currentPrevention + Math.floor(Math.random() * 3) - 1));
            mistakePrevention.textContent = newPrevention;
            
            // Update predictive intelligence metrics
            const predictiveTotal = document.getElementById('predictive-total');
            const currentPredictions = parseInt(predictiveTotal.textContent);
            const newPredictions = currentPredictions + Math.floor(Math.random() * 2);
            predictiveTotal.textContent = newPredictions;
            
            const predictiveConfidence = document.getElementById('predictive-confidence');
            const currentPredictiveConfidence = parseInt(predictiveConfidence.textContent);
            const newPredictiveConfidence = Math.max(70, Math.min(95, currentPredictiveConfidence + Math.floor(Math.random() * 5) - 2));
            predictiveConfidence.textContent = newPredictiveConfidence;
        }

        // Auto-fix functionality
        document.querySelectorAll('.auto-fix-button').forEach(button => {
            button.addEventListener('click', function() {
                const violationItem = this.closest('.violation-item');
                violationItem.style.background = 'rgba(76, 175, 80, 0.1)';
                violationItem.style.borderLeftColor = '#4CAF50';
                this.textContent = '✅ Fixed';
                this.style.background = '#4CAF50';
                this.disabled = true;
            });
        });

        // Action button functionality
        document.querySelectorAll('.action-button').forEach(button => {
            button.addEventListener('click', function() {
                if (this.textContent.includes('Start Implementation')) {
                    alert('🚀 Starting AI feature implementation...');
                } else if (this.textContent.includes('Plan Migration')) {
                    alert('📋 Opening migration planning interface...');
                } else if (this.textContent.includes('Design Architecture')) {
                    alert('🏗️ Launching architecture design tool...');
                } else if (this.textContent.includes('View Details')) {
                    // Find the prediction item and show appropriate details
                    const predictionItem = this.closest('.prediction-item');
                    const category = predictionItem.querySelector('.prediction-category').textContent;
                    
                    if (category === 'Market') {
                        showDetailPanel('market-details');
                    } else if (category === 'Security') {
                        showDetailPanel('security-details');
                    } else if (category === 'Technical') {
                        showDetailPanel('technical-details');
                    }
                }
            });
        });

        // Detail panel functionality
        function showDetailPanel(panelId) {
            const overlay = document.getElementById('overlay');
            const panel = document.getElementById(panelId);
            
            overlay.classList.add('active');
            panel.classList.add('active');
        }

        function closeDetailPanel() {
            const overlay = document.getElementById('overlay');
            const panels = document.querySelectorAll('.detail-panel');
            
            overlay.classList.remove('active');
            panels.forEach(panel => panel.classList.remove('active'));
        }

        // Close panel when clicking overlay
        document.getElementById('overlay').addEventListener('click', closeDetailPanel);

        // Global status bar helpers
        function showGlobalStatus(msg, isError) {
            const bar = document.getElementById('globalStatusBar');
            bar.textContent = msg;
            bar.style.background = isError ? '#ff6b6b' : '#222';
            bar.style.display = '';
            setTimeout(() => { bar.style.display = 'none'; }, 4000);
        }

        // Fetch real data from API
        async function fetchDashboardData() {
            try {
                const response = await fetch('/api/dashboard');
                const data = await response.json();
                
                // Update activity log
                updateActivityLog(data.activityLog);
                
                // Update system metrics
                updateSystemMetrics(data.systemMetrics);
                
                // Update goals and rules
                updateGoalsAndRules(data.goals, data.rules);
                
                // Update GitHub info if available
                if (data.githubInfo) {
                    updateGitHubInfo(data.githubInfo);
                }
                
                console.log('✅ Dashboard data updated from API');
            } catch (error) {
                console.warn('⚠️  Failed to fetch dashboard data:', error);
                // Fallback to local updates
                updateMetrics();
            }
        }

        // Update activity log with real data
        function updateActivityLog(activityLog) {
            const activityContainer = document.querySelector('.activity-log');
            if (!activityContainer || !activityLog) return;

            activityContainer.innerHTML = '';
            
            activityLog.slice(0, 10).forEach(activity => {
                const activityItem = document.createElement('div');
                activityItem.className = 'activity-item';
                activityItem.innerHTML = `
                    <div class="activity-time">${new Date(activity.timestamp).toLocaleTimeString()}</div>
                    <div class="activity-message">${activity.message}</div>
                    <div class="activity-status ${activity.status}">${activity.status}</div>
                `;
                activityContainer.appendChild(activityItem);
            });
        }

        // Update system metrics with real data
        function updateSystemMetrics(metrics) {
            if (!metrics) return;

            // Update performance metrics
            if (metrics.totalOperations) {
                document.getElementById('total-operations').textContent = metrics.totalOperations;
            }
            if (metrics.successRate) {
                document.getElementById('success-rate').textContent = metrics.successRate;
            }
            if (metrics.failedOperations) {
                document.getElementById('failed-operations').textContent = metrics.failedOperations;
            }
            if (metrics.avgResponseTime) {
                document.getElementById('avg-response-time').textContent = metrics.avgResponseTime;
            }
            if (metrics.memoryUsage) {
                document.getElementById('memory-usage').textContent = metrics.memoryUsage;
            }
            if (metrics.cpuUsage) {
                document.getElementById('cpu-usage').textContent = metrics.cpuUsage;
            }
        }

        // Update goals and rules with real data
        function updateGoalsAndRules(goals, rules) {
            if (goals && goals.length > 0) {
                const goalsContainer = document.querySelector('.goals-list');
                if (goalsContainer) {
                    goalsContainer.innerHTML = '';
                    goals.forEach(goal => {
                        const goalItem = document.createElement('div');
                        goalItem.className = 'goal-item';
                        goalItem.innerHTML = `
                            <span>${goal.name}</span>
                            <span class="confidence">${goal.confidence}%</span>
                        `;
                        goalsContainer.appendChild(goalItem);
                    });
                }
            }

            if (rules && rules.length > 0) {
                const rulesContainer = document.querySelector('.rules-list');
                if (rulesContainer) {
                    rulesContainer.innerHTML = '';
                    rules.forEach(rule => {
                        const ruleItem = document.createElement('div');
                        ruleItem.className = 'rule-item';
                        ruleItem.innerHTML = `
                            <span>${rule.name}</span>
                            <span class="success-rate">${rule.successRate}%</span>
                        `;
                        rulesContainer.appendChild(ruleItem);
                    });
                }
            }

            // Re-setup click handlers for new elements
            setupClickHandlers();
        }

        // Update GitHub info with real data
        function updateGitHubInfo(githubInfo) {
            if (!githubInfo || !githubInfo.repository) return;

            const githubContainer = document.querySelector('.github-info');
            if (!githubContainer) return;

            githubContainer.innerHTML = `
                <h3>📦 Repository: ${githubInfo.repository.name}</h3>
                <p>${githubInfo.repository.description || 'No description'}</p>
                <div class="github-stats">
                    <span>⭐ ${githubInfo.repository.stars} stars</span>
                    <span>🍴 ${githubInfo.repository.forks} forks</span>
                    <span>💻 ${githubInfo.repository.language}</span>
                </div>
                <div class="github-links">
                    <a href="${githubInfo.repository.url}" target="_blank">View Repository</a>
                </div>
            `;
        }

        // Update metrics every 10 seconds
        setInterval(fetchDashboardData, 10000);
        
        // Initial fetch
        fetchDashboardData();
        
        // Validate placeholder data on load
        validatePlaceholderData();

        // Goal and Rule click handlers - moved to after DOM is loaded
        function setupClickHandlers() {
            document.querySelectorAll('.goal-item').forEach(item => {
                item.addEventListener('click', function(event) {
                    const goalName = this.querySelector('span').textContent;
                    showGoalDetails(goalName, event);
                });
            });

            document.querySelectorAll('.rule-item').forEach(item => {
                item.addEventListener('click', function(event) {
                    const ruleName = this.querySelector('span').textContent;
                    showRuleDetails(ruleName, event);
                });
            });
        }

        function showGoalDetails(goalName, event) {
            const goalDetails = {
                'Template Deployment System': {
                    description: 'A comprehensive system for deploying project templates with automated setup and configuration.',
                    features: ['Automated template generation', 'Firebase hosting integration', 'Brand guideline enforcement'],
                    status: 'In Development',
                    priority: 'High',
                    timeline: '2-3 weeks'
                },
                'Backend Logic Separation': {
                    description: 'Proper separation of backend logic from frontend components for maintainable architecture.',
                    features: ['API layer separation', 'Service-oriented architecture', 'Clean code principles'],
                    status: 'Planning',
                    priority: 'Critical',
                    timeline: '1-2 weeks'
                },
                'Brand Guidelines Enforcement': {
                    description: 'Automated enforcement of Dan-AI-Mate brand guidelines across all components.',
                    features: ['Color scheme validation', 'Typography enforcement', 'Component consistency'],
                    status: 'Active',
                    priority: 'High',
                    timeline: 'Ongoing'
                },
                'Firebase Hosting Integration': {
                    description: 'Seamless integration with Firebase hosting for template deployment.',
                    features: ['Automated deployment', 'CDN optimization', 'SSL certificate management'],
                    status: 'In Progress',
                    priority: 'Medium',
                    timeline: '1 week'
                },
                'Modern UI/UX Design': {
                    description: 'iPhone-style modern UI/UX design following latest design principles.',
                    features: ['Glassmorphism effects', 'Smooth animations', 'Responsive design'],
                    status: 'Active',
                    priority: 'High',
                    timeline: 'Ongoing'
                }
            };

            const goal = goalDetails[goalName] || {
                description: 'Goal details not available.',
                features: [],
                status: 'Unknown',
                priority: 'Unknown',
                timeline: 'Unknown'
            };

            showDetailPanel('goal-details', goalName, goal, event);
        }

        function showRuleDetails(ruleName, event) {
            const ruleDetails = {
                'Backend Logic Separation': {
                    description: 'Enforces separation of backend logic from frontend components.',
                    requirements: ['No backend code in root directory', 'Proper folder structure', 'API layer isolation'],
                    enforcement: 'Automated',
                    violations: 'High',
                    impact: 'Critical'
                },
                'Dan-AI-Mate Brand Guidelines': {
                    description: 'Enforces consistent brand guidelines across all components.',
                    requirements: ['Color scheme compliance', 'Typography standards', 'Component consistency'],
                    enforcement: 'Automated',
                    violations: 'Medium',
                    impact: 'High'
                },
                'Project Template Standards': {
                    description: 'Ensures all project templates meet quality standards.',
                    requirements: ['Proper structure', 'Documentation', 'Testing setup'],
                    enforcement: 'Automated',
                    violations: 'Low',
                    impact: 'Medium'
                },
                'Firebase Hosting Integration': {
                    description: 'Enforces proper Firebase hosting configuration.',
                    requirements: ['SSL certificates', 'CDN setup', 'Deployment automation'],
                    enforcement: 'Automated',
                    violations: 'Medium',
                    impact: 'High'
                },
                'Modern iPhone-Style Design': {
                    description: 'Enforces modern UI/UX design principles.',
                    requirements: ['Glassmorphism effects', 'Smooth animations', 'Responsive design'],
                    enforcement: 'Automated',
                    violations: 'Low',
                    impact: 'Medium'
                }
            };

            const rule = ruleDetails[ruleName] || {
                description: 'Rule details not available.',
                requirements: [],
                enforcement: 'Unknown',
                violations: 'Unknown',
                impact: 'Unknown'
            };

            showDetailPanel('rule-details', ruleName, rule, event);
        }

        function showDetailPanel(type, title, data, event) {
            // Remove any existing detail panels
            document.querySelectorAll('.inline-detail-panel').forEach(panel => panel.remove());
            
            const panel = document.createElement('div');
            panel.className = 'inline-detail-panel';
            panel.style.cssText = `
                background: #181b22;
                border: 1px solid #00e6fb;
                border-radius: 10px;
                padding: 20px;
                margin: 15px 0;
                color: white;
                box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            `;
            
            let content = `
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; border-bottom: 1px solid #00e6fb; padding-bottom: 10px;">
                    <h3 style="color: #00e6fb; margin: 0;">${title}</h3>
                    <button onclick="this.parentElement.parentElement.remove()" style="background: none; border: none; color: #00e6fb; font-size: 1.5rem; cursor: pointer;">×</button>
                </div>
            `;

            if (type === 'goal-details') {
                content += `
                    <div style="margin-bottom: 20px;">
                        <h4 style="color: #00e6fb; margin-bottom: 10px;">Description</h4>
                        <p style="color: rgba(255,255,255,0.9); line-height: 1.5;">${data.description}</p>
                    </div>
                    <div style="margin-bottom: 20px;">
                        <h4 style="color: #00e6fb; margin-bottom: 10px;">Features</h4>
                        <ul style="color: rgba(255,255,255,0.9); padding-left: 20px;">
                            ${data.features.map(feature => `<li style="margin-bottom: 5px;">${feature}</li>`).join('')}
                        </ul>
                    </div>
                    <div style="margin-bottom: 20px;">
                        <h4 style="color: #00e6fb; margin-bottom: 10px;">Status</h4>
                        <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid rgba(0,230,251,0.3);">
                            <span style="color: rgba(255,255,255,0.9);">Current Status:</span>
                            <span style="color: #00e6fb; font-weight: bold;">${data.status}</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid rgba(0,230,251,0.3);">
                            <span style="color: rgba(255,255,255,0.9);">Priority:</span>
                            <span style="color: #00e6fb; font-weight: bold;">${data.priority}</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; padding: 8px 0;">
                            <span style="color: rgba(255,255,255,0.9);">Timeline:</span>
                            <span style="color: #00e6fb; font-weight: bold;">${data.timeline}</span>
                        </div>
                    </div>
                `;
            } else if (type === 'rule-details') {
                content += `
                    <div style="margin-bottom: 20px;">
                        <h4 style="color: #00e6fb; margin-bottom: 10px;">Description</h4>
                        <p style="color: rgba(255,255,255,0.9); line-height: 1.5;">${data.description}</p>
                    </div>
                    <div style="margin-bottom: 20px;">
                        <h4 style="color: #00e6fb; margin-bottom: 10px;">Requirements</h4>
                        <ul style="color: rgba(255,255,255,0.9); padding-left: 20px;">
                            ${data.requirements.map(req => `<li style="margin-bottom: 5px;">${req}</li>`).join('')}
                        </ul>
                    </div>
                    <div style="margin-bottom: 20px;">
                        <h4 style="color: #00e6fb; margin-bottom: 10px;">Enforcement</h4>
                        <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid rgba(0,230,251,0.3);">
                            <span style="color: rgba(255,255,255,0.9);">Enforcement Type:</span>
                            <span style="color: #00e6fb; font-weight: bold;">${data.enforcement}</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid rgba(0,230,251,0.3);">
                            <span style="color: rgba(255,255,255,0.9);">Violation Level:</span>
                            <span style="color: #00e6fb; font-weight: bold;">${data.violations}</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; padding: 8px 0;">
                            <span style="color: rgba(255,255,255,0.9);">Impact Level:</span>
                            <span style="color: #00e6fb; font-weight: bold;">${data.impact}</span>
                        </div>
                    </div>
                `;
            }

            panel.innerHTML = content;
            
            // Find the clicked item and insert the panel after it
            const clickedItem = event.target.closest('.goal-item, .rule-item');
            if (clickedItem) {
                clickedItem.parentNode.insertBefore(panel, clickedItem.nextSibling);
            } else {
                document.body.appendChild(panel);
            }
        }

        // Setup click handlers after DOM is loaded
        setupClickHandlers();

        // Show welcome message
        setTimeout(() => {
            showGlobalStatus('Dan-AI-Mate Intelligence Dashboard loaded successfully!', false);
        }, 1000);
    </script>
</body>
</html> 